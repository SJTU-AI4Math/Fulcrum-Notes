\documentclass[UTF8]{ctexart}

\makeatletter
\def\input@path{{../../Fulcrum-Template/}{../../Operator-List/}}
\makeatother

\usepackage{FulcrumCN}

\usepackage{OperatorListCN}
\usepackage{F4Logic}
\usepackage{F4Type}
\usepackage{F4NumberTheory}

% margin
\usepackage{geometry}
\geometry{
    paper =a4paper,
    top =3cm,
    bottom =3cm,
    left=2cm,
    right =2cm
}
\linespread{1.2}

\begin{document}
\tableofcontents
\newpage

    \begin{center}
        {\LARGE\textbf{初等数论}}

        Fulcrum4Math
    \end{center}

    \section{整除理论}

        \subsection{整除}
            
            \begin{dfn}
                [Div]
                {整除}
                [Divides]
                [猫猫]
                \DEF*
                    [ \(a, b:\Z\), \(a\neq 0\)]
                    { \(a\) 整除 \(b\) }
                    {\(\exists[n][b=an][\Z]\)}
                    [ \(a\mid b\)]

                \DEF*
                    { \(a\) 不整除 \(b\) }
                    {\(\neg(a\mid b)\)}
                    [ \(a\nmid b\)]
            \end{dfn}
            
            \begin{ppt}
                [DivPO]
                {整除的偏序性}
                [Partial Order of Divisibility]
                [猫猫]
                \THM
                    {整除关系是偏序关系}
            \end{ppt}
            
            \begin{ppt}
                [DivLinear]
                {整除的线性性}
                [Linearity of Divisibility]
                [猫猫]
                \THM
                    {整除关系是线性关系}
            \end{ppt}
            
            \begin{ppt}
                []
                {整除的绝对值性质}
                []
                [猫猫]
                \THM
                    []
                    {}
            \end{ppt}
            
            \begin{thm}
                []
                {余数唯一性}
                []
                [猫猫]
                \THM
                    [ \(a, b:\Z\), \(a>0\)]
                    {\(\existsuniq[r][\existsuniq[n][b=an+r][\Z]][\Z/a\Z]\)}
            \end{thm}
            
            \begin{dfn}
                []
                {不完全商}
                []
                [猫猫]
                \DEF
                    [ \(a, b:\Z\), \(a\neq 0\)]
                    { \(b\) 除以 \(a\) 的不完全商}
                    {}
                    [ \(b/a\)]
            \end{dfn}
            
            \begin{dfn}
                [Remainder]
                {余数}
                [Remainder]
                [猫猫]
                \DEF
                    [ \(a, b:\Z\), \(a>0\)]
                    { \(b\) 除以 \(a\) 的余数}
                    {\(b - a\cdot(b/a)\)}
                    [ \(b\% a\)]
            \end{dfn}

        \subsection{最大公因数}

            \begin{dfn}
                [GCD]
                {最大公因数}
                [Greatest Common Divisor]
                [猫猫]
                \DEF
                    [ \(a, b:\Z\), \(a\neq 0\), \(b\neq 0\)]
                    { \(a\) 和 \(b\) 的最大公因数}
                    {\(\max\{d|d\mid a \land d\mid b\}\)}
                    [ \(\gcd(a,b)\)]

                \DEF
                    [ \(S\) 是 \(\Z\) 上的集合, \(S\neq\{0\}\)]
                    { \(S\) 的最大公因数}
                    {\(\max\{d|\forall n\in S, d\mid n\}\)}
                    [ \(\gcd S\)]
            \end{dfn}

            \begin{ppt}
                []
                {}
                []
                [猫猫]
                \THM
                    [ \(a, b, c, q:\Z\), \(q\neq 0\), \(a=bq+c\)]
                    {\(\gcd(a,b)=\gcd(b,c)\)}
            \end{ppt}

            \begin{ppt}
                []
                {}
                []
                [猫猫]
                \THM
                    [ \(a, b, n:\Z\)]
                    {\(\gcd(an,bn)=n\gcd(a,b)\)}
            \end{ppt}

            \begin{thm}
                [EuclideanAlgorithm]
                {Euclid 辗转相除法}
                [Euclidean algorithm]
                [白菜]
                设\(a,b:\mathbb{Z}\), \(a>0,b\geq 0\), 则通过以下递归关系可以计算$\gcd(a,b)$:
                \[
                    r_0=a, r_1=b
                \]
                对$i=1,2,3,\ldots$ 计算商 $q_{i+1}$和余数$r_{i+1}$ 使得
                \[
                    r_{i-1}=r_i\cdot q_{i+1}+r_{i+1}, 0\leq r_{i+1}<r_i
                \]
                直到$r_n=0$, 则$\gcd(a,b)=r_{n-1}$.
            \end{thm}

            \begin{thm}
                [BezoutThm]
                {Bezout 定理}
                [Bezout's Theorem]
                [猫猫]
                设$a,b:\mathbb{Z}$, 则存在正整数$u,v:\mathbb{Z}$, 使得
                \[ua+vb=\gcd(a,b)\]
            \end{thm}

            \begin{dfn}
                {互素}
                [Coprime]
                [猫猫]
                \DEF*
                    [ \(a, b:\Z\), \(a\neq 0\lor b\neq 0\)]
                    { \(a\) 与 \(b\) 互素}
                    {\(\gcd(a,b)=1\)}

                \DEF*
                    [ \(S\) 是 \(\Z\) 上的集合, \(S\neq\{0\}\)]
                    { \(S\) 互素}
                    {\(\gcd S=1\)}
            \end{dfn}

            \begin{dfn}
                [LCM]
                {最小公倍数}
                [Least Common Multiple]
                [白菜]
                设$a,b:\mathbb{Z}$, $a\neq 0, b\neq 0$, 定义 $a$ 和 $b$ 的最小公倍数为:
                $\min\{a\mid d \land b\mid d\}$, 记作 $\lcm(a,b)$.
                设 $S$ 是 $\mathbb{Z}$ 上的集合, $S\neq \{0\}$, 定义$S$的最小公倍数为:
                $\min\{d|\forall n\in S, n>0 \land n \mid d \}$, 记作$\lcm S$
            \end{dfn}

            \begin{thm}
                [MulEqualsGCDLCM]
                {两数之积等于其最大公因数与最小公倍数之积}
                []
                [白菜]
                设\(a,b:\mathbb{Z}\), 则
                \[a\cdot b=\gcd(a,b)\cdot \lcm(a,b)\]
            \end{thm}
        
        \subsection{素数与算术基本定理}
        
            \begin{dfn}
                [Prime]
                {素数与合数}
                [Prime Number \& Composite Number]
                [猫猫]
                \DEF*
                    [ \(p:\Z\), \(p>1\)]
                    { \(p\) 是素数}
                    {\(\forall a, b\in\Z, p=ab \Rightarrow a=1 \lor a=p\)}

                \DEF*
                    [ \(n:\Z\), \(n>1\)]
                    { \(n\) 是合数}
                    {\(\exists a, b\in\Z, n=ab \land a\neq 1 \land a\neq n\)}
            \end{dfn}

            \begin{thm}
                [PrimeInfinitude]
                {素数无穷性}
                [Infinitude of Primes]
                [猫猫]
                素数有无穷多个
            \end{thm}

            \begin{ppt}
                [PrimalityOfMinFactor]
                {最小正因数的素性}
                [Primality Of Minimum Factor]
                [白菜]
                设\(a:\Z\), \(a>1\), 则 \(a\) 的最小正因数是素数.
            \end{ppt}

            \begin{ppt}
                [PrimeFactorLessSqrt]
                {合数素因子不大于其平方根}
                []
                [白菜]
                设\(a:\Z\), \(a>1\), 若 \(a\) 是合数, 则 \(a\) 的最小素因子不大于 \(\sqrt{a}\).
            \end{ppt}

            \begin{ppt}
                [PrimeDividesOrCoprime]
                {素数必整除一个数, 或与其互素}
                []
                [白菜]
                设\(p, a:\Z\), \(p\) 是素数, 则 \(p\mid a\) 或 \(p\) 与 \(a\) 互素.
            \end{ppt}

            \begin{thm}
                []
                {算术基本定理}
                [Fundamental Theorem of Arithmetic]
                [猫猫]
                设\(n:\Z\), \(n>1\), 则 \(n\) 可以唯一分解为素数的乘积, 即
                \[
                    n=p_1^{\alpha_1}p_2^{\alpha_2}\cdots p_k^{\alpha_k}
                \]
                其中 \(p_1<p_2<\cdots<p_k\) 是素数, \(\alpha_1,\alpha_2,\ldots,\alpha_k\) 是正整数.
            \end{thm}

            \begin{dfn}
                [pAdicValuationFunction]
                {p-进赋值函数}
                []
                [白菜]
                \DEF
                    [ \(p:\Z\), \(p\) 是素数, \(a:\Z\), \(a>0\)]
                    { \(a\) 的 \(p\)-进赋值}
                    {\(\max\{k|p^k\mid a \land k\geq 0\}\)}
                    [ \(v_p(a)\)]
            \end{dfn}

            \begin{ppt}
                [GCDLCMUnderPrimeFactor]
                {素数分解下的最大公因数与最小公倍数}
                []
                [白菜]
                设\(a, b:\Z\), \(a>1, b>1\), 且
                \[
                    a=p_1^{\alpha_1}p_2^{\alpha_2}\cdots p_k^{\alpha_k}
                \]
                \[
                    b=p_1^{\beta_1}p_2^{\beta_2}\cdots p_k^{\beta_k}
                \]  
                其中 \(p_1<p_2<\cdots<p_k\) 是素数, \(\alpha_1,\alpha_2,\ldots,\alpha_k\) 和 \(\beta_1,\beta_2,\ldots,\beta_k\) 是非负整数. 则
                \[\gcd(a,b)=p_1^{\min(\alpha_1,\beta_1)}p_2^{\min(\alpha_2,\beta_2)}\cdots p_k^{\min(\alpha_k,\beta_k)}\]
                \[\lcm(a,b)=p_1^{\max(\alpha_1,\beta_1)}p_2^{\max(\alpha_2,\beta_2)}\cdots p_k^{\max(\alpha_k,\beta_k)}\]   

            \end{ppt}

        \subsection{整数部分}
            
            \begin{dfn}
                [GaussFunction]
                {整数部分 / Gauss 函数}
                [Gauss Function]
                [猫猫]
                \DEF
                    [ \(x:\R\)]
                    { \(x\) 的整数部分 / Gauss 函数}
                    {\(\max\{n|n\in\Z \land n\leq x\}\)}
                    [ \(\lfloor x \rfloor\)]
            \end{dfn}

            \begin{dfn}
                [FractionalPart]
                {小数部分}
                []
                [猫猫]
                \DEF
                    [ \(x:\R\)]
                    { \(x\) 的小数部分}
                    {\(x - \lfloor x \rfloor\)}
                    [ \(\{ x \}\)]
            \end{dfn}
            
            \begin{ppt}
                [DivisionWithRemainderUnderGaussFunction]
                {Gauss函数意义下的带余除法}
                []
                [白菜]
                设\(a, b:\Z\), \(b>0\), 则
                \[a=b\lfloor \frac{a}{b} \rfloor + b\{\frac{a}{b}\}\]
            \end{ppt}

            \begin{thm}
                [LegendreFormula]
                {勒让德公式}
                [Legendre's Formula]
                [白菜]
                设\(n, p:\Z\), \(n\geq 0\), \(p\) 是素数, 则
                \[v_p(n!)=\sum_{i=1}^{\infty}\lfloor\frac{n}{p^i}\rfloor\]
            \end{thm}

            \begin{crl}
                [SimplifiedLegendreFormula]
                {勒让德公式的化简表示}
                []
                [白菜]
                设\(n, p:\Z\), \(n\geq 0\), \(p\) 是素数, 则
                \[v_p(n!)=\frac{n-s_p(n)}{p-1}\]
                其中 \(s_p(n)\) 是 \(n\) 的 \(p\) 进制表示下各位数字之和.
            \end{crl}

            \begin{crl}
                [CombinationIsInteger]
                {组合数为整数}
                []
                [白菜]
                设\(n, k:\Z\), \(n\geq 0\), \(0\leq k\leq n\), 则组合数
                \[\binom{n}{k}=\frac{n!}{k!(n-k)!}\]
                是整数.
            \end{crl}
    \section{不定方程}
        
        \subsection{二元一次不定方程}
        
            \begin{thm}
                []
                {二元一次不定方程整数解系}
                []
                [猫猫]
                \THM
                    [ \(a, b, c, x_0, y_0:\Z\), \(a\neq 0\), \(b\neq 0\), \(ax_0+by_0=c\)]
                    {\[\forall x,y:\Z, ax+by=c\implies\exists k:\Z, 
                    \begin{cases}
                    \begin{aligned}
                        &x=x_0+\frac{b}{\gcd(a,b)}k\\
                        &y=y_0-\frac{a}{\gcd(a,b)}k
                    \end{aligned}
                    \end{cases}\]}*
            \end{thm}

            \begin{thm}
                []
                {二元一次不定方程有解的充要条件}
                []
                [猫猫]
                \THM
                    [ \(a, b, c:\Z\), \(a\neq 0\), \(b\neq 0\)]
                    {\[\exists x,y:\Z, ax+by=c \iff \gcd(a,b)\mid c\]}*
            \end{thm}
            
            \begin{thm}
                [typeofsolutionoflinearDiophantineEquation]
                {二元一次不定方程解的形状}
                []
                [白菜]
                设\(a, b, c:\mathbb{Z}\), \(a\neq 0\), \(b\neq 0\), 且 \(\gcd(a,b)\mid c\). 则二元一次不定方程
                \[ax+by=c\]
                的整数解可以表示为
                \[
                    \begin{cases}
                    \begin{aligned}
                        &x=x_0+\frac{b}{\gcd(a,b)}k\\
                        &y=y_0-\frac{a}{\gcd(a,b)}k
                    \end{aligned}
                    \end{cases}         
                \]
                其中 \(k\in\mathbb{Z}\), \((x_0, y_0)\) 是该方程的一个特解.                    
                
            \end{thm}

            \begin{rmk}
                    特解可以通过扩展欧几里得算法求出.
            \end{rmk}

        \subsection{多元一次不定方程}
            
            \begin{thm}
                [conditionofsolvabilityofmultivariablelineardiophantineequation]
                {多元一次不定方程有解的充要条件}
                []
                [白菜]
                设\(a_1, a_2, \ldots, a_n, N:\mathbb{Z}\), 且不全为零. 则多元一次不定方程
                \[a_1x_1+a_2x_2+\cdots+a_nx_n=N\]
                有整数解的充要条件是
                \[\gcd(a_1, a_2, \ldots, a_n)\mid N\]
            \end{thm}

            \begin{rmk}
                    求解该不定方程时, 可以先求以下二元一次不定方程组的解:
                    \[
                        \begin{cases}
                        \begin{aligned}
                            &a_1x_1+a_2x_2=d_2t_2\\
                            &d_2t_2+a_3x_3=d_3t_3\\
                            &\cdots\\
                            &d_{n-1}t_{n-1}+a_nx_n=N
                        \end{aligned}
                        \end{cases} 
                    \]
                    其中 \(d_i=\gcd(d_{i-1}, a_i)\). 中间变量 \(t_i\) 可被消去, 从而得到原多元一次不定方程的解.
            \end{rmk}
        \subsection{勾股方程}
            \begin{lma}
            [CoprimeProductIsSquareNecessaryCondition]
            {互素积为平方的必要条件}
            []
            [白菜]
            设\(a, b:\mathbb{Z}\), 且 \(a\) 与 \(b\) 互素. 若 \(ab\) 是完全平方数, 则 \(a\) 和 \(b\) 均为完全平方数.
            \end{lma}

            \begin{rmk}
                当我们考虑方程\(x^2+y^2=c^2\)时, 可以不妨假定\(x\)与\(y\)互素. 此时\(x,y\)必定一奇一偶, 因为若都是偶数与互素矛盾, 若都是奇数, 则\(z\)为偶数, 
                则\(x^2+y^2\equiv 2\mod 4\), 但$z^2$模4只能为0或1, 矛盾. 故后面考虑勾股方程的解时, 可以假定\(x,y\)一奇一偶, 且两者互素.
            \end{rmk}

            \begin{thm}
            [InternalSolutionsOfPythagoreanEquation]
            {勾股方程的整数解}
            []
            [白菜]
            设\(x, y, z:\mathbb{Z}\), 且 \(x, y, z>0\), \(\gcd(x,y=1)\), \(2\mid x\). 则方程
            \[x^2+y^2=z^2\]
            的整数解可以表示为
            \[
                \begin{cases}
                \begin{aligned}
                    &x=2mn\\
                    &y=m^2-n^2\\
                    &z=m^2+n^2
                \end{aligned}
                \end{cases}
            \]

            \end{thm}
            
            \begin{prf}
                方程即
                \[(\frac{x}{2})^2=(\frac{z+y}{2})(\frac{z-y}{2})\]
                可知\(\gcd(\frac{z+y}{2},\frac{z-y}{2})=1\), 再由引理即得定理.
            \end{prf}
    \section{同余}
        \subsection{同余的基本概念}
            \begin{dfn}
                [Congruence]
                {同余}
                [Congruence]
                [白菜]
                \DEF*
                    [ \(a, b, m:\Z\), \(m>0\)]
                    { \(a\) 与 \(b\) 模 \(m\) 同余}
                    {\(m\mid (a-b)\)}
                    [ \(a\equiv b \mod m\)]
            \end{dfn}

            \begin{ppt}
                [CongruenceEquivalenceRelation]
                {同余是等价关系}
                [Equivalence Relation of Congruence]
                [白菜]
                \THM
                    {同余关系是等价关系}
            \end{ppt}

            \begin{ppt}
                [CongruenceLinearity]
                {同余的线性性}
                [Linearity of Congruence]
                [白菜]
                \THM
                    [ \(a, b, c, d, m:\Z\), \(m>0\), \(a\equiv b(\mod m)\), \(c\equiv d(\mod m)\)]
                    {\(\begin{cases}
                    \begin{aligned}
                        &a+c\equiv b+d \mod m\\
                        &-a\equiv -b \mod m\\
                    \end{aligned}
                    \end{cases}\)}
            \end{ppt}

            \begin{ppt}
                [CongruenceMultiplicativity]
                {同余的乘法性质}
                [Multiplicativity of Congruence]
                [白菜]
                \THM
                    [ \(a, b, c, d, m:\Z\), \(m>0\), \(a\equiv b\mod m\), \(c\equiv d\mod m\)]
                    {\(ac\equiv bd \mod m\)}
            \end{ppt}

        \subsection{剩余类与剩余系}
            \begin{dfn}
                [ResidueClass]
                {剩余类}
                [Residue Class]
                [白菜]
                设\(m:\Z\), 则由模 \(m\) 同余关系生成的等价类称为模 \(m\) 的\textbf{剩余类}. 
                对于\(a:\Z\), 其模 \(m\) 的剩余类记作 \(\bar{a}\).
            \end{dfn}

            \begin{dfn}
                [ResidueSystem]
                {剩余系}
                [Residue System]
                [白菜]
                由所有剩余类构成的集合称为模 \(m\) 的\textbf{剩余系}, 记作\(\Z/m\Z\).
            \end{dfn}

            \begin{dfn}
                [OperationOnResidueSystem]
                {剩余系上的运算}
                [Operation on Residue System]
                [白菜]
                设\(m:\Z\), 则模 \(m\) 剩余系上的乘法定义为:
                \[  
                    \begin{aligned}
                        \cdot: \Z/m\Z\times \Z/m\Z &\to \Z/m\Z\\
                        (\bar{a}, \bar{b}) &\mapsto \overline{ab}
                    \end{aligned}
                \]
                模 \(m\) 剩余系上的加法定义为:
                \[  
                    \begin{aligned}
                        +: \Z/m\Z\times \Z/m\Z &\to \Z/m\Z\\
                        (\bar{a}, \bar{b}) &\mapsto \overline{a+b}
                    \end{aligned}
                \]
            \end{dfn}

            \begin{thm}
                [ResidueSystemIsCommutativeRing]
                {剩余系是交换环}
                [Residue System is Commutative Ring]
                [白菜]
                设\(m:\Z\), 则模 \(m\) 剩余系 \(\Z/m\Z\) 在上述加法与乘法下构成一个交换环.
            \end{thm}

            \begin{rmk}
                当问题中只有环的运算时, 我们会说"在模\(m\)的意义下", 即将整数视为模\(m\)剩余系中的元素来进行运算.
            \end{rmk}

            \begin{dfn}
                [ReducedResidueSystem]
                {即约剩余系}
                [Reduced Residue System]
                [白菜]
                设\(m:\Z\), 则模 \(m\) 的\textbf{即约剩余系}是指模 \(m\) 的所有与 \(m\) 互素的剩余类所构成的集合.
            \end{dfn}

            \begin{thm}
                []
                {互素整数诱导即约剩余系的自同态}
                []
                [白菜]
                设\(m, a:\mathbb{Z}\), 且 \(\gcd(a,m)=1\). \(A\subset \Z/m\Z\), 为模\(m\)的即约剩余系, 则映射
                \[ 
                    \begin{aligned}
                        f: A &\to A\\
                        \bar{x} &\mapsto \overline{ax}
                    \end{aligned}
                \]
                是模 \(m\) 的即约剩余系到其自身的一个双射.
            \end{thm}

            \begin{rmk}
                或者说, 将模\(m\)即约剩余系中的每一个元素乘以与\(m\)互素的整数\(a\), 仍然得到模\(m\)即约剩余系中的元素, 且没有重复.
            \end{rmk}
    \section{原根与指标}
        
        



\end{document}